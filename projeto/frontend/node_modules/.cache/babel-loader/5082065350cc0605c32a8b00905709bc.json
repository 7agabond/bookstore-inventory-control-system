{"ast":null,"code":"var _jsxFileName = \"C:\\\\projetos\\\\tqi_evolution_fullstack_2022\\\\projeto\\\\frontend\\\\src\\\\components\\\\Venda\\\\Teste.js\";\nimport React from \"react\";\nimport AsyncSelect from 'react-select/lib/Async';\nimport queryString from 'query-string';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Teste extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectValue: ''\n    };\n  }\n\n  loadOptions(query, callback) {\n    if (query) {\n      axios.get('/api/customers/search?search=' + encodeURIComponent(query)).then(function (response) {\n        const items = response.data.data;\n        let options = items.map(function (item) {\n          return {\n            value: item.id,\n            label: item.first_name + ' ' + item.last_name + ' (' + item.email + ')'\n          };\n        });\n        callback(options);\n      });\n    } else {\n      var customerID = queryString.parse(location.search).customer;\n\n      if (customerID) {\n        axios.get('/api/customers/fetch?id=' + customerID).then(response => {\n          const items = response.data.data;\n          let options = items.map(function (item) {\n            return {\n              value: item.id,\n              label: item.first_name + ' ' + item.last_name + ' (' + item.email + ')'\n            };\n          });\n          callback(options);\n          this.setState({\n            selectValue: options[0]\n          });\n        });\n      }\n    }\n  }\n\n  handleItemSelectChange(option) {\n    this.setState({\n      selectValue: option\n    });\n  }\n\n  noOptionsMessage() {\n    return 'Type to search customers...';\n  }\n\n  checkForPreLoad() {\n    var customerID = queryString.parse(location.search).customer;\n\n    if (customerID) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: this.props.name,\n        defaultValue: this.state.selectValue ? this.state.selectValue.value : ''\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AsyncSelect, {\n        cacheOptions: true,\n        defaultOptions: this.checkForPreLoad(),\n        loadOptions: (query, callback) => this.loadOptions(query, callback),\n        onChange: option => this.handleItemSelectChange(option),\n        value: this.state.selectValue,\n        noOptionsMessage: this.noOptionsMessage,\n        classNamePrefix: \"react-Selector\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","AsyncSelect","queryString","axios","Teste","Component","constructor","props","state","selectValue","loadOptions","query","callback","get","encodeURIComponent","then","response","items","data","options","map","item","value","id","label","first_name","last_name","email","customerID","parse","location","search","customer","setState","handleItemSelectChange","option","noOptionsMessage","checkForPreLoad","render","name"],"sources":["C:/projetos/tqi_evolution_fullstack_2022/projeto/frontend/src/components/Venda/Teste.js"],"sourcesContent":["import React from \"react\";\r\nimport AsyncSelect from 'react-select/lib/Async';\r\nimport queryString from 'query-string';\r\nimport axios from 'axios';\r\n\r\nexport class Teste extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectValue: '',\r\n        }\r\n    }\r\n\r\n    loadOptions(query, callback) {\r\n        if (query) {\r\n            axios.get('/api/customers/search?search=' + encodeURIComponent(query))\r\n                .then(function (response) {\r\n                    const items = response.data.data;\r\n                    let options = items.map(function (item) {\r\n                        return {\r\n                            value: item.id,\r\n                            label: item.first_name + ' ' + item.last_name + ' (' + item.email + ')',\r\n                        };\r\n                    });\r\n                    callback(options);\r\n                });\r\n        }\r\n        else {\r\n            var customerID = queryString.parse(location.search).customer;\r\n            if (customerID) {\r\n                axios.get('/api/customers/fetch?id=' + customerID)\r\n                    .then((response) => {\r\n                        const items = response.data.data;\r\n                        let options = items.map(function (item) {\r\n                            return {\r\n                                value: item.id,\r\n                                label: item.first_name + ' ' + item.last_name + ' (' + item.email + ')',\r\n                            };\r\n                        });\r\n                        callback(options);\r\n                        this.setState({ selectValue: options[0] });\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    handleItemSelectChange(option) {\r\n        this.setState({ selectValue: option });\r\n    }\r\n\r\n    noOptionsMessage() {\r\n        return 'Type to search customers...';\r\n    }\r\n\r\n    checkForPreLoad() {\r\n        var customerID = queryString.parse(location.search).customer;\r\n        if (customerID) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <input type={\"hidden\"} name={this.props.name} defaultValue={this.state.selectValue ? this.state.selectValue.value : ''} />\r\n                <AsyncSelect\r\n                    cacheOptions={true}\r\n                    defaultOptions={this.checkForPreLoad()}\r\n                    loadOptions={(query, callback) => this.loadOptions(query, callback)}\r\n                    onChange={(option) => this.handleItemSelectChange(option)}\r\n                    value={this.state.selectValue}\r\n                    noOptionsMessage={this.noOptionsMessage}\r\n                    classNamePrefix=\"react-Selector\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}